{"version":3,"sources":["CurrencyConverter.js","app.js"],"names":["exports","originalGlobalValue","CurrencyConverter","privateMethod","Symbol","[object Object]","console","log","Promise","resolves","rejects","fetch","then","$result","json","$data","catch","$error","this","define","amd","module","window","App","$converter","c1Field","id","c2Field","amountField","convertBtn","tab1Btn","tab2Btn","tab1","tab2","converter","enableTabs","$idname","length","document","getElementById","initTabs","loadCurrency","style","display","addEventListener","parentNode","classList","toggle","setAttribute","getCurrencies","results","key","value","Object","entries","options","add","Option","currencyName","removeAttribute","error","ready","fn","readyState","documentElement","_preloader","querySelector","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","undefined","whichTransitionEvent","removeChild","onresize","_nav","getComputedStyle","$e","getAttribute","thisApp","init","onload","e"],"mappings":"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","file":"build.js","sourcesContent":[";(function (exports) {\n  'use strict';\n\n  // Shortcuts to improve speed and size\n  const originalGlobalValue = exports.CurrencyConverter;\n\n  // Private methods\n  const privateMethod = Symbol('privateMethod');\n\n  class CurrencyConverter {\n\n    constructor() {\n  \n    }\n  \n    init() {\n      \n    }\n\n    [privateMethod] () {\n      console.log( \"private\" );\n    }\n\n    getCurrencies() {\n      return new Promise( (resolves, rejects) => {\n        \n        fetch( \"https://free.currencyconverterapi.com/api/v5/currencies\" ).then( ($result) => {\n          $result.json().then( ($data) => {\n            resolves($data);\n          })\n        }).catch( ($error) => {\n          rejects( \"Failed to load currencies\" );\n        })\n        \n      })\n    }\n\n    static noConflict() {\n      exports.CurrencyConverter = originalGlobalValue;\n      return this;\n    }\n  \n    \n  }\n\n  // const proto = CurrencyConverter.prototype;\n\n\n  // Expose the class either via AMD, CommonJS or the global object\n  if (typeof define === 'function' && define.amd) {\n      define(function () {\n          return CurrencyConverter;\n      });\n  }\n  else if (typeof module === 'object' && module.exports){\n      module.exports = CurrencyConverter;\n  }\n  else {\n      exports.CurrencyConverter = CurrencyConverter;\n  }\n\n})( typeof window !== \"undefined\" ? window : this || {} );\n\n\n","/* requires: CurrencyConverter.js */\n\n// private methods\nclass App {\n\n    constructor( $converter = null ) {\n\n      this.c1Field = this.id(\"c1Field\");\n      this.c2Field = this.id(\"c2Field\");\n      this.amountField = this.id(\"amount\"); \n      this.convertBtn = this.id(\"convertBtn\");\n\n      this.tab1Btn = this.id(\"tab1Btn\");\n      this.tab2Btn = this.id(\"tab2Btn\");\n\n      this.tab1 = this.id(\"tab1\");\n      this.tab2 = this.id(\"tab2\");\n\n      this.converter = $converter;\n\n      this.enableTabs = true;\n\n    }\n\n    id( $idname = \"\" ){\n      return ( typeof $idname !== \"string\" || !$idname.length ) ? null : document.getElementById($idname);\n    }\n\n    init() {\n      \n      this.initTabs();\n      this.loadCurrency();\n\n      return this;\n    }\n\n    initTabs() {\n      this.tab2.style.display = \"none\";\n\n      this.tab1Btn.addEventListener(\"click\", () => {\n        if( !this.enableTabs )\n          return;\n        this.tab1.style.display = \"block\";\n        this.tab2.style.display = \"none\";\n\n        this.tab1Btn.parentNode.classList.toggle(\"is-active\");\n        this.tab2Btn.parentNode.classList.toggle(\"is-active\");\n      });\n\n      this.tab2Btn.addEventListener(\"click\", () => {\n        if( !this.enableTabs )\n          return;\n        this.tab1.style.display = \"none\";\n        this.tab2.style.display = \"block\";\n\n        this.tab1Btn.parentNode.classList.toggle(\"is-active\");\n        this.tab2Btn.parentNode.classList.toggle(\"is-active\");\n      });\n    }\n\n    loadCurrency() {\n      this.enableTabs = false;\n      // this.convertBtn.classList.toggle(\"is-loading\");\n      this.convertBtn.setAttribute(\"disabled\", \"disabled\");\n\n      this.converter.getCurrencies().then( ( $data ) => {\n\n        console.log($data.results);\n\n        for (const [key, value] of Object.entries($data.results)) {\n          this.c1Field.options.add( new Option( value.currencyName, key ) );\n          this.c2Field.options.add( new Option( value.currencyName, key ) );  \n        }\n\n        this.convertBtn.removeAttribute(\"disabled\");\n\n      }).catch( (error) => {\n        console.log(error);\n      });\n\n    }\n\n}\nconst ready = (fn) => {\n    if (document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  }\n  \n\nready( () =>  {\n  // return;\n  document.documentElement.classList.toggle( \"no-js\" );\n  document.documentElement.classList.add( \"js\" );\n\n  const whichTransitionEvent = () => {\n    var t,\n        el = document.createElement(\"fakeelement\");\n  \n    var transitions = {\n      \"transition\"      : \"transitionend\",\n      \"OTransition\"     : \"oTransitionEnd\",\n      \"MozTransition\"   : \"transitionend\",\n      \"WebkitTransition\": \"webkitTransitionEnd\"\n    }\n  \n    for (t in transitions){\n      if (el.style[t] !== undefined){\n        return transitions[t];\n      }\n    }\n  }\n\n  let _preloader = document.querySelector(\".preloader-wrapper\");\n  _preloader.addEventListener( whichTransitionEvent(), () => { \n    _preloader.parentNode.removeChild(_preloader);\n  });\n\n  window.onresize = () => {\n\n    let _nav = document.querySelector(\".navbar-menu\");\n\n    if( getComputedStyle(_nav).display == \"none\" ) \n      _nav.setAttribute( \"data-hidden\", \"true\" );\n    else\n      _nav.setAttribute( \"data-hidden\", \"false\" );\n\n  };\n\n  document.querySelector(\".navbar-burger\").addEventListener(\"click\", ($e) => {\n\n    let _nav = document.querySelector(\".navbar-menu\");\n    \n    if( _nav.getAttribute(\"data-hidden\") == \"true\" ){\n      _nav.style.display = \"block\";\n      _nav.setAttribute( \"data-hidden\", \"false\" );\n    }else {\n      _nav.style.display = \"none\";\n      _nav.setAttribute( \"data-hidden\", \"true\" );\n    }\n\n  })\n\n  window.thisApp = new App(new CurrencyConverter()).init();\n\n});\n\nwindow.onload = ( e ) =>  {\n  // return;\n  let _nav = document.querySelector(\".navbar-menu\");\n\n  if( getComputedStyle(_nav).display == \"none\" ) \n    _nav.setAttribute( \"data-hidden\", \"true\" );\n  else\n    _nav.setAttribute( \"data-hidden\", \"false\" );\n\n  document.querySelector(\".preloader-wrapper\").classList.add( \"hide\" );  \n} "]}