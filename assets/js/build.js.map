{"version":3,"sources":["CurrencyConverter.js","app.js"],"names":["exports","originalGlobalValue","CurrencyConverter","privateMethod","Symbol","[object Object]","console","log","Promise","resolves","rejects","fetch","then","$result","json","$data","catch","$error","$amount","$fromCurrency","$toCurrency","$resolves","$rejects","setTimeout","this","define","amd","module","window","App","$converter","c1Field","id","c2Field","amountField","convertBtn","tab1Btn","tab2Btn","tab1","tab2","converter","enableTabs","notification","$idname","length","document","getElementById","documentElement","classList","toggle","add","_preloader","querySelector","addEventListener","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","undefined","style","whichTransitionEvent","parentNode","removeChild","onresize","_nav","getComputedStyle","display","setAttribute","$evt","getAttribute","initUI","loadCurrency","convertCurrency","target","onload","async","_data","getCurrencies","key","value","Object","entries","results","options","Option","currencyName","removeAttribute","toggleNotification","getData","formIsValid","_amount","_from","selectedIndex","_to","_result","convert","$visible","$message","$alert","$handler","classNames","className","split","find","$className","startsWith","remove","innerHTML","ready","fn","readyState","thisApp","init"],"mappings":"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","file":"build.js","sourcesContent":[";(function (exports) {\n  'use strict';\n\n  // Shortcuts to improve speed and size\n  const originalGlobalValue = exports.CurrencyConverter;\n\n  // Private methods\n  const privateMethod = Symbol('privateMethod');\n\n  class CurrencyConverter {\n\n    constructor() {\n  \n    }\n  \n    init() {\n      \n    }\n\n    [privateMethod] () {\n      console.log( \"private\" );\n    }\n\n    getCurrencies() {\n\n      return new Promise( (resolves, rejects) => {\n        \n        fetch( \"https://free.currencyconverterapi.com/api/v5/currencies\" ).then( ($result) => {\n          $result.json().then( ($data) => {\n            resolves($data);\n          })\n        }).catch( ($error) => {\n          rejects( `Failed to load currencies from remote API [${$error}]` );\n        })\n        \n      });\n    }\n\n    convert( $amount=0, $fromCurrency=\"\", $toCurrency=\"\" ) {\n      return new Promise( ( $resolves, $rejects ) => {\n\n        setTimeout( () => $resolves(\"data loaded\"), 3000 );\n\n      })\n    }\n\n    static noConflict() {\n      exports.CurrencyConverter = originalGlobalValue;\n      return this;\n    }\n  \n    \n  }\n\n  // const proto = CurrencyConverter.prototype;\n\n\n  // Expose the class either via AMD, CommonJS or the global object\n  if (typeof define === 'function' && define.amd) {\n      define(function () {\n          return CurrencyConverter;\n      });\n  }\n  else if (typeof module === 'object' && module.exports){\n      module.exports = CurrencyConverter;\n  }\n  else {\n      exports.CurrencyConverter = CurrencyConverter;\n  }\n\n})( typeof window !== \"undefined\" ? window : this || {} );\n\n\n","/* requires: CurrencyConverter.js */\n\n// private methods\nclass App {\n\n    constructor($converter = null) {\n\n        this.c1Field = this.id(\"c1Field\");\n        this.c2Field = this.id(\"c2Field\");\n        this.amountField = this.id(\"amount\");\n        this.convertBtn = this.id(\"convertBtn\");\n\n        this.tab1Btn = this.id(\"tab1Btn\");\n        this.tab2Btn = this.id(\"tab2Btn\");\n\n        this.tab1 = this.id(\"tab1\");\n        this.tab2 = this.id(\"tab2\");\n\n        this.converter = $converter;\n\n        this.enableTabs = true;\n        this.notification = this.id(\"notification\");\n\n    }\n\n    id($idname = \"\") {\n        return (typeof $idname !== \"string\" || !$idname.length) ? null : document.getElementById($idname);\n    }\n\n    init() {\n\n        document.documentElement.classList.toggle(\"no-js\");\n        document.documentElement.classList.add(\"js\");\n\n        const whichTransitionEvent = () => {\n            var t,\n                el = document.createElement(\"fakeelement\");\n\n            var transitions = {\n                \"transition\": \"transitionend\",\n                \"OTransition\": \"oTransitionEnd\",\n                \"MozTransition\": \"transitionend\",\n                \"WebkitTransition\": \"webkitTransitionEnd\"\n            }\n\n            for (t in transitions) {\n                if (el.style[t] !== undefined) {\n                    return transitions[t];\n                }\n            }\n        }\n\n        let _preloader = document.querySelector(\".preloader-wrapper\");\n\n        _preloader.addEventListener(whichTransitionEvent(), () => {\n            _preloader.parentNode.removeChild(_preloader);\n        });\n\n        window.onresize = () => {\n\n            let _nav = document.querySelector(\".navbar-menu\");\n\n            if (getComputedStyle(_nav).display == \"none\")\n                _nav.setAttribute(\"data-hidden\", \"true\");\n            else\n                _nav.setAttribute(\"data-hidden\", \"false\");\n\n        };\n\n        document.querySelector(\".navbar-burger\").addEventListener(\"click\", ($evt) => {\n\n            let _nav = document.querySelector(\".navbar-menu\");\n\n            if (_nav.getAttribute(\"data-hidden\") == \"true\") {\n                _nav.style.display = \"block\";\n                _nav.setAttribute(\"data-hidden\", \"false\");\n            } else {\n                _nav.style.display = \"none\";\n                _nav.setAttribute(\"data-hidden\", \"true\");\n            }\n\n        });\n\n        this.initUI();\n        this.loadCurrency();\n\n        return this;\n    }\n\n    initUI() {\n\n        // Tabs\n        this.tab2.style.display = \"none\";\n\n        this.tab1Btn.addEventListener(\"click\", () => {\n            if (!this.enableTabs)\n                return;\n            this.tab1.style.display = \"block\";\n            this.tab2.style.display = \"none\";\n\n            this.tab1Btn.parentNode.classList.toggle(\"is-active\");\n            this.tab2Btn.parentNode.classList.toggle(\"is-active\");\n        });\n\n        this.tab2Btn.addEventListener(\"click\", () => {\n            if (!this.enableTabs)\n                return;\n            this.tab1.style.display = \"none\";\n            this.tab2.style.display = \"block\";\n\n            this.tab1Btn.parentNode.classList.toggle(\"is-active\");\n            this.tab2Btn.parentNode.classList.toggle(\"is-active\");\n        });\n\n        // buttons\n        this.convertBtn.addEventListener(\"click\", () => {\n            if (!this.convertBtn.getAttribute(\"disabled\") != \"\")\n                this.convertCurrency();\n        });\n\n        document.documentElement.addEventListener(\"click\", ($evt) => {\n\n            if ($evt.target == document.querySelector(\"button.delete\")) {\n                $evt.target.parentNode.style.display = \"none\";\n            }\n\n        });\n\n        window.onload = ($evt) => {\n            // return;\n            let _nav = document.querySelector(\".navbar-menu\");\n\n            if (getComputedStyle(_nav).display == \"none\")\n                _nav.setAttribute(\"data-hidden\", \"true\");\n            else\n                _nav.setAttribute(\"data-hidden\", \"false\");\n\n            document.querySelector(\".preloader-wrapper\").classList.add(\"hide\");\n        }\n\n    }\n\n    loadCurrency() {\n\n        this.enableTabs = false;\n        // this.convertBtn.classList.toggle(\"is-loading\");\n        this.convertBtn.setAttribute(\"disabled\", \"disabled\");\n\n        const getData = async() => {\n\n            try {\n                const _data = await this.converter.getCurrencies();\n\n                for (const [key, value] of Object.entries(_data.results)) {\n                    this.c1Field.options.add(new Option(value.currencyName, key));\n                    this.c2Field.options.add(new Option(value.currencyName, key));\n                }\n\n                this.convertBtn.removeAttribute(\"disabled\");\n\n            } catch ($error) {\n                this.toggleNotification(true, $error, \"is-danger\");\n            }\n\n            this.enableTabs = true;\n\n        }\n\n        getData();\n\n    }\n\n    async convertCurrency() {\n\n        this.toggleNotification(0);\n\n        if ( !this.formIsValid() ) {\n            this.toggleNotification(1, \"Select your desired currency\", \"is-warning\");\n        }\n\n        try {\n          const _amount = this.amountField.value;\n          const _from = this.c1Field.options[this.c1Field.selectedIndex].value;\n          const _to = this.c2Field.options[this.c2Field.selectedIndex].value;\n\n          this.enableTabs = false;\n          this.convertBtn.setAttribute(\"disabled\",\"disabled\");\n\n          const _result = await this.converter.convert( _amount, _from, _to );\n          console.log( _result );\n\n        } catch( $error ) {\n          this.toggleNotification( 1,`Error converting from ${_from} to ${_to} [${$error}]` );\n        }\n\n        this.enableTabs = true;\n        this.convertBtn.removeAttribute(\"disabled\");\n    }\n\n    formIsValid() {\n        return !(this.c1Field.options[this.c1Field.selectedIndex].value === \"\" || this.c2Field.options[this.c2Field.selectedIndex].value === \"\" || this.amountField.value === \"\" );\n    }\n\n    toggleNotification($visible = false, $message = \"\", $alert = \"is-danger\", $handler = null) {\n\n        if (!$visible) {\n            this.notification.style.display = \"none\";\n            return;\n        }\n\n        // remove \"is-*\"\n        let classNames = this.notification.className;\n        classNames = classNames.split(\" \").find($className => $className.startsWith(\"is\"));\n        this.notification.classList.remove(classNames);\n\n        // set message and display\n        this.notification.querySelector(\":scope div\").innerHTML = $message;\n        this.notification.classList.toggle($alert);\n        this.notification.style.display = \"block\";\n\n    }\n\n}\n\n// DOM Loaded\nconst ready = (fn) => {\n    if (document.readyState != 'loading') {\n        fn();\n    } else {\n        document.addEventListener('DOMContentLoaded', fn);\n    }\n}\n\n\nready(() => window.thisApp = new App(new CurrencyConverter()).init());"]}