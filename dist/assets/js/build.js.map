{"version":3,"sources":["CurrencyConverter.js","app.js"],"names":["exports","originalGlobalValue","CurrencyConverter","privateMethod","Symbol","[object Object]","console","log","Promise","resolves","rejects","fetch","then","$result","json","$data","catch","$error","$amount","$fromCurrency","$toCurrency","$resolves","$rejects","setTimeout","this","define","amd","module","window","App","$converter","c1Field","id","c2Field","amountField","convertBtn","tab1Btn","tab2Btn","tab1","tab2","converter","enableTabs","notification","$idname","length","document","getElementById","initUI","loadCurrency","style","display","addEventListener","parentNode","classList","toggle","getAttribute","convertCurrency","documentElement","$evt","target","querySelector","setAttribute","async","_data","getCurrencies","key","value","Object","entries","results","options","add","Option","currencyName","removeAttribute","toggleNotification","getData","formIsValid","_amount","_from","selectedIndex","_to","_result","convert","_errormsg","$visible","$message","$alert","$handler","classNames","className","split","find","$className","startsWith","remove","innerHTML","ready","fn","readyState","onresize","_nav","getComputedStyle","_preloader","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","undefined","whichTransitionEvent","removeChild","onload","querySelectorAll","thisApp","init"],"mappings":"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","file":"build.js","sourcesContent":[";(function (exports) {\n  'use strict';\n\n  // Shortcuts to improve speed and size\n  const originalGlobalValue = exports.CurrencyConverter;\n\n  // Private methods\n  const privateMethod = Symbol('privateMethod');\n\n  class CurrencyConverter {\n\n    constructor() {\n  \n    }\n  \n    init() {\n      \n    }\n\n    [privateMethod] () {\n      console.log( \"private\" );\n    }\n\n    getCurrencies() {\n\n      return new Promise( (resolves, rejects) => {\n        \n        fetch( \"https://free.currencyconverterapi.com/api/v5/currencies\" ).then( ($result) => {\n          $result.json().then( ($data) => {\n            resolves($data);\n          })\n        }).catch( ($error) => {\n          rejects( `Failed to load currencies from remote API [${$error}]` );\n        })\n        \n      });\n    }\n\n    convert( $amount=0, $fromCurrency=\"\", $toCurrency=\"\" ) {\n      return new Promise( ( $resolves, $rejects ) => {\n\n        setTimeout( () => $resolves(\"data loaded\"), 3000 );\n\n      })\n    }\n\n    static noConflict() {\n      exports.CurrencyConverter = originalGlobalValue;\n      return this;\n    }\n  \n    \n  }\n\n  // const proto = CurrencyConverter.prototype;\n\n\n  // Expose the class either via AMD, CommonJS or the global object\n  if (typeof define === 'function' && define.amd) {\n      define(function () {\n          return CurrencyConverter;\n      });\n  }\n  else if (typeof module === 'object' && module.exports){\n      module.exports = CurrencyConverter;\n  }\n  else {\n      exports.CurrencyConverter = CurrencyConverter;\n  }\n\n})( typeof window !== \"undefined\" ? window : this || {} );\n\n\n","/* requires: CurrencyConverter.js */\n\n// private methods\nclass App {\n\n    constructor($converter = null) {\n\n        this.c1Field = this.id(\"c1Field\");\n        this.c2Field = this.id(\"c2Field\");\n        this.amountField = this.id(\"amount\");\n        this.convertBtn = this.id(\"convertBtn\");\n\n        this.tab1Btn = this.id(\"tab1Btn\");\n        this.tab2Btn = this.id(\"tab2Btn\");\n\n        this.tab1 = this.id(\"tab1\");\n        this.tab2 = this.id(\"tab2\");\n\n        this.converter = $converter;\n\n        this.enableTabs = true;\n        this.notification = this.id(\"notification\");\n\n    }\n\n    id($idname = \"\") {\n        return (typeof $idname !== \"string\" || !$idname.length) ? null : document.getElementById($idname);\n    }\n\n    init() {\n\n        this.initUI();\n        this.loadCurrency();\n\n        return this;\n    }\n\n    initUI() {\n\n        // Tabs\n        this.tab2.style.display = \"none\";\n\n        this.tab1Btn.addEventListener(\"click\", () => {\n            if (!this.enableTabs)\n                return;\n            this.tab1.style.display = \"block\";\n            this.tab2.style.display = \"none\";\n\n            this.tab1Btn.parentNode.classList.toggle(\"is-active\");\n            this.tab2Btn.parentNode.classList.toggle(\"is-active\");\n        });\n\n        this.tab2Btn.addEventListener(\"click\", () => {\n            if (!this.enableTabs)\n                return;\n            this.tab1.style.display = \"none\";\n            this.tab2.style.display = \"block\";\n\n            this.tab1Btn.parentNode.classList.toggle(\"is-active\");\n            this.tab2Btn.parentNode.classList.toggle(\"is-active\");\n        });\n\n        // buttons\n        this.convertBtn.addEventListener(\"click\", () => {\n            if (!this.convertBtn.getAttribute(\"disabled\") != \"\")\n                this.convertCurrency();\n        });\n\n        document.documentElement.addEventListener(\"click\", ($evt) => {\n\n            if ($evt.target == document.querySelector(\"button.delete\")) {\n                $evt.target.parentNode.style.display = \"none\";\n            }\n\n        });\n\n    }\n\n    loadCurrency() {\n\n        this.enableTabs = false;\n        // this.convertBtn.classList.toggle(\"is-loading\");\n        this.convertBtn.setAttribute(\"disabled\", \"disabled\");\n\n        const getData = async() => {\n\n            try {\n                const _data = await this.converter.getCurrencies();\n\n                for (const [key, value] of Object.entries(_data.results)) {\n                    this.c1Field.options.add(new Option(value.currencyName, key));\n                    this.c2Field.options.add(new Option(value.currencyName, key));\n                }\n\n                this.convertBtn.removeAttribute(\"disabled\");\n\n            } catch ($error) {\n                this.toggleNotification(true, $error, \"is-danger\");\n            }\n\n            this.enableTabs = true;\n\n        }\n\n        getData();\n\n    }\n\n    async convertCurrency() {\n\n        this.toggleNotification(0);\n\n        if ( !this.formIsValid() ) {\n            this.toggleNotification(1, \"Enter Amount and specify the currency\", \"is-warning\");\n            return;\n        }\n\n        const _amount = this.amountField.value;\n        const _from = this.c1Field.options[this.c1Field.selectedIndex].value;\n        const _to = this.c2Field.options[this.c2Field.selectedIndex].value;\n\n        try {\n\n          this.enableTabs = false;\n          this.convertBtn.setAttribute(\"disabled\",\"disabled\");\n          this.convertBtn.classList.toggle(\"is-loading\");\n\n          const _result = await this.converter.convert( _amount, _from, _to );\n          console.log( _result );\n\n        } catch( $error ) {\n          let _errormsg = `Error converting from ${_from} to ${_to} [${$error}]`;\n          this.toggleNotification( 1, _errormsg, \"is-danger\" );\n        }\n\n        this.enableTabs = true;\n        this.convertBtn.removeAttribute(\"disabled\");\n        this.convertBtn.classList.toggle(\"is-loading\");\n    }\n\n    formIsValid() {\n        return !(this.c1Field.options[this.c1Field.selectedIndex].value === \"\" || this.c2Field.options[this.c2Field.selectedIndex].value === \"\" || this.amountField.value === \"\" );\n    }\n\n    toggleNotification($visible = false, $message = \"\", $alert = \"is-danger\", $handler = null) {\n\n        if (!$visible) {\n            this.notification.style.display = \"none\";\n            return;\n        }\n\n        // remove \"is-*\"\n        let classNames = this.notification.className;\n        classNames = classNames.split(\" \").find($className => $className.startsWith(\"is\"));\n        this.notification.classList.remove(classNames);\n\n        // set message and display\n        this.notification.querySelector(\":scope div\").innerHTML = $message;\n        this.notification.classList.toggle($alert);\n        this.notification.style.display = \"block\";\n\n    }\n\n}\n\n// DOM Loaded\nconst ready = (fn) => {\n    if (document.readyState != 'loading') {\n        fn();\n    } else {\n        document.addEventListener('DOMContentLoaded', fn);\n    }\n}\n\n\nready( () => { \n\n  document.documentElement.classList.toggle(\"no-js\");\n  document.documentElement.classList.add(\"js\");\n\n  const whichTransitionEvent = () => {\n      var t,\n          el = document.createElement(\"fakeelement\");\n\n      var transitions = {\n          \"transition\": \"transitionend\",\n          \"OTransition\": \"oTransitionEnd\",\n          \"MozTransition\": \"transitionend\",\n          \"WebkitTransition\": \"webkitTransitionEnd\"\n      }\n\n      for (t in transitions) {\n          if (el.style[t] !== undefined) {\n              return transitions[t];\n          }\n      }\n  }\n\n  window.onresize = () => {\n\n      let _nav = document.querySelector(\".navbar-menu\");\n\n      if (getComputedStyle(_nav).display == \"none\")\n          _nav.setAttribute(\"data-hidden\", \"true\");\n      else\n          _nav.setAttribute(\"data-hidden\", \"false\");\n\n  };\n\n  document.querySelector(\".navbar-burger\").addEventListener(\"click\", ($evt) => {\n\n      let _nav = document.querySelector(\".navbar-menu\");\n\n      if (_nav.getAttribute(\"data-hidden\") == \"true\") {\n          _nav.style.display = \"block\";\n          _nav.setAttribute(\"data-hidden\", \"false\");\n      } else {\n          _nav.style.display = \"none\";\n          _nav.setAttribute(\"data-hidden\", \"true\");\n      }\n\n  });\n\n  let _preloader = document.querySelector(\".preloader-wrapper\");\n\n  _preloader.addEventListener(whichTransitionEvent(), () => {\n      _preloader.parentNode.removeChild(_preloader);\n  });\n  \n  window.onload = ($evt) => {\n      // return;\n      let _nav = document.querySelector(\".navbar-menu\");\n\n      if (getComputedStyle(_nav).display == \"none\")\n          _nav.setAttribute(\"data-hidden\", \"true\");\n      else\n          _nav.setAttribute(\"data-hidden\", \"false\");\n\n      document.querySelector(\".preloader-wrapper\").classList.add(\"hide\");\n  }\n\n  if( !document.querySelectorAll(\".converter-wrapper\").length )\n    return;\n\n  window.thisApp = new App(new CurrencyConverter()).init();\n\n});"]}